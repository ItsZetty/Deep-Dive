# Chapter 1 - 아파치 스파크 소개: 통합 분석 엔진

## 아파치 스파크의 시작과 역사
컴퓨터 규모 측면에서, 우리가 가지는 데이터가 지속적으로 쌓이고, 많아짐으로 구글은 "어떻게 해야 수십억개가 넘어가는 페이지들을 빠르게 indexing을 해서 user에게 내줄수 있을까"에 대한 고민에서 새로운 접근 방식이 필요했습니다.

그래서 이를 해결하기 위해 구글 파일 시스템, 맵리듀스, 빅테이블 등을 만들었습니다.

그리고 이 3가지 기술이 Apache 재단에 기증이 되었습니다.

야후의 검색 엔진 시스템에는 하둡이 채택되었습니다. 그러나 HDFS(하둡 파일 시스템)에서 돌아가는 맵리듀스 프레임워크는 몇가지 단점이 있었습니다.

1. 번거로운 운영 복잡도
2. 장황하며, 불안정한 배치 처리를 위한 맵리듀스 API
3. 성능 문제
4. 다양한 워크로드 처리의 한계

## 아파치 스파크란?
아파치 스파크는 데이터 센터나 클라우드에서 대규모 분산 데이터 처리를 하기 위해 설계된 통합형 엔징입니다.

스파크는 중간 연산을 위해 메모리 저장소를 지원하여 하둡 맵리듀스보다 훨씬 빠르게 동작할 수 있습니다. 또 머신러닝, 대화형 질의를 위한 SQL, 실시간 데이터 처리를 위한 스트리밍 처리, 그래프 처리 등을 위해 쉽게 사용 가능한 API들로 이루어진 라이브러리를 갖고 있습니다.

## 스파크의 특성
스파크의 핵심 특성에는 4가지가 존재합니다.

1. 속도
2. 사용 편리성
3. 모듈성
4. 확장성

### 1. 속도
스파크는 다양한 방법으로 속도에 대한 목표를 추구해 왔습니다.

1. CPU 등의 하드웨어가 발달했는데, 멀티코어/쓰레드 기술과 L1, L2, L3 캐쉬 용량을 잘 활용하도록 설계됨

2. DAG(방향성 비순환 그래프, directed acyclic graph)로 이루어진 스케쥴러가 여러 클러스터 병렬 프로세싱으로 속도 증가

3. 물리적 메인 엔진인 텅스텐(Tungsten)이 compact 코드를 일반화할 수 있음

### 2. 사용 편리성
고수준 데이터 추상화 계층(데이터프레임, 데이터세트)과 단순한 논리 자료구조(RDD)를 통해 단순성을 실현했습니다. 

트랜스포메이션과 액션의 집합으로 구성된 단순한 프로그래밍 모델을 제공하여 사용자들이 편한 언어로 빅데이터 애플리케이션을 만들 수 있도록 했습니다.

### 3. 모듈성
스파크 연산은 다양한 타입의 워크로드에 적용 가능하고, 지원하는 모든 프로그래밍 언어로 표현할 수 있습니다.

### 4. 확장성
스파크는 저장보다는 빠른 병렬 연산 엔진에 초점이 맞추어져 있습니다. 

또 아파치 카프카, 키네시스, 애저 저장소, AWS S3 등 더 많은 데이터 소스에서 데이터를 읽어 들여서 논리적인 데이터 추상황 레벨에서 처리할 수 있도록 확정이 가능합니다.