# InnoDB

**InnoDB**는 MySQL의 스토리지 엔진 중 하나로, 트랜잭션을 지원하는 ACID 호환 스토리지 엔진입니다.

InnoDB는 높은 성능과 안정성을 제공합니다.

> **스토리지 엔진이란?**
> 데이터베이스에서 데이터를 어떻게 저장하고, 어떻게 접근할지를 결정하는 핵심 컴포넌트입니다.

## 🤷🏻‍♂️ InnoDB는 어떤 특징을 가지고 있나요?

### 1. ACID 트랜잭션 지원
InnoDB는 완전한 ACID 트랜잭션을 지원합니다.

**ACID 특성**
- **Atomicity (원자성)**: 트랜잭션의 모든 작업이 성공하거나 모두 실패합니다.
- **Consistency (일관성)**: 데이터베이스가 항상 일관된 상태를 유지합니다.
- **Isolation (격리성)**: 동시에 실행되는 트랜잭션들이 서로 영향을 주지 않습니다.
- **Durability (지속성)**: 커밋된 트랜잭션은 영구적으로 저장됩니다.

### 2. 외래 키 제약 조건 지원
InnoDB는 외래 키 제약 조건을 지원하여 데이터 무결성을 보장합니다.

```sql
CREATE TABLE orders (
    id INT PRIMARY KEY,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### 3. 행 단위 잠금 (Row-Level Locking)
InnoDB는 행 단위 잠금을 사용하여 동시성을 향상시킵니다.

**잠금 유형**
- **Shared Lock (S-Lock)**: 읽기 잠금
- **Exclusive Lock (X-Lock)**: 쓰기 잠금
- **Intention Lock**: 테이블 레벨 잠금

### 4. 클러스터형 인덱스
InnoDB는 클러스터형 인덱스를 사용하여 데이터를 저장합니다.

> **클러스터형 인덱스란?** <br>
> 데이터베이스에서 테이블의 물리적 저장 순서를 결정하는 인덱스입니다.

**특징**
- 기본 키(Primary Key)가 클러스터형 인덱스로 사용됩니다.
- 데이터가 기본 키 순서로 물리적으로 정렬되어 저장됩니다.
- 기본 키가 없으면 자동으로 생성됩니다.

## 🤷🏻‍♂️ InnoDB의 구조는 어떻게 되어 있나요?

**1. 버퍼 풀 (Buffer Pool)**
- 메모리 기반 캐싱으로 I/O 성능 향상
- 데이터 페이지, 인덱스 페이지, 잠금 정보 저장

### 2. 리두 로그 (Redo Log)
- 커밋된 트랜잭션의 변경 사항 기록
- 장애 복구에 사용

### 3. 언두 로그 (Undo Log)
- 트랜잭션 롤백과 MVCC 지원
- 이전 데이터 상태 보존

### 4. 테이블스페이스 (Tablespace)
- 각 테이블의 데이터와 인덱스를 `.ibd` 파일에 저장


## 💡 결론
InnoDB는 트랜잭션과 데이터 무결성을 보장하면서도 높은 성능을 제공하는 현대적인 스토리지 엔진입니다.